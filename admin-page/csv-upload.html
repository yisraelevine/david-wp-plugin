<h2>עדכון סיפורים CSV</h2>
<form id="csv-upload-form" method="post" enctype="multipart/form-data">
    <input type="file" name="csv_file" accept=".csv" />
    <input type="submit" name="submit" value="העלה CSV" />
</form>
<script>
    const csvUploadForm = document.getElementById('csv-upload-form');

    csvUploadForm.addEventListener('submit', async (event) => {
        event.preventDefault();

        const formData = new FormData(event.target);

        await fetch('/wp-json/stories/v1/upload-csv/', {
            method: 'POST',
            body: formData,
            headers: {
                'X-WP-Nonce': sessionStorage.wpRestNonce
            }
        });

        csvUploadForm.reset();
    });
</script>